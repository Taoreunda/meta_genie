# Gemini Project Guidelines: meta_genie

이 문서는 Gemini 에이전트가 `meta_genie` 프로젝트 작업을 수행할 때 따라야 할 지침을 제공합니다.

## 1. 프로젝트 개요

`meta_genie`는 메타 분석을 위한 학술 문헌 스크리닝 자동화 프로젝트입니다. 규칙 기반 키워드 필터링 시스템을 사용하여 논문의 제목과 초록을 분석하고, 연구에 포함할지 여부를 1차적으로 분류합니다. 최종 검토는 Streamlit 기반의 웹 애플리케이션을 통해 연구자가 수행합니다.

주요 목표는 특정 기준(우울증, 모바일/디지털, 행동 활성화)에 맞는 논문을 신속하게 식별하여 수동 스크리닝 과정을 효율화하는 것입니다.

## 2. 주요 기술

- **언어:** Python 3.11
- **핵심 라이브러리:**
  - `pandas`: 데이터 처리 및 CSV 파일 관리
  - `streamlit`: 결과 검토를 위한 인터랙티브 웹 UI
  - `re`: 키워드 매칭을 위한 정규 표현식
- **서식/린팅:** (지정되지 않았지만, 일관된 스타일 유지를 위해 `ruff` 사용을 권장합니다.)

## 3. 개발 워크플로우 및 명령어

1.  **데이터 준비:** 스크리닝할 논문 목록을 `data/meta_article_data.csv` 파일로 준비합니다. `Title`과 `Abstract` 컬럼이 필수적입니다.

2.  **규칙 기반 필터링 실행:** 터미널에서 다음 명령어를 실행하여 자동 라벨링을 수행합니다.
    ```bash
    python pipeline_runner_rule.py
    ```
    - 이 스크립트는 `data/meta_article_data.csv`를 읽어 처리한 후, 타임스탬프가 찍힌 결과 파일을 `output/` 디렉토리에 생성합니다. (예: `output/rule_based_labeling_20250618_214448.csv`)
    - 실행 과정은 `logs/` 디렉토리에 로그 파일로 기록됩니다.

3.  **결과 검토 및 수정:** Streamlit 앱을 실행하여 자동 분류된 결과를 검토하고 수정합니다.
    ```bash
    streamlit run streamlit_keyword_review.py
    ```
    - 웹 앱의 사이드바에서 `output/`에 생성된 결과 파일을 선택하여 로드합니다.
    - 각 논문을 검토하고 `INCLUDE` 또는 `EXCLUDE`로 판정한 후 저장하면, 해당 CSV 파일에 검토 내용이 갱신됩니다.

## 4. 주요 파일 구조

- `pipeline_runner_rule.py`: 전체 자동 라벨링 파이프라인을 실행하는 메인 스크립트.
- `rule_based_filter.py`: 키워드 매칭 규칙과 논문 평가 로직을 포함하는 핵심 모듈.
- `streamlit_keyword_review.py`: 검토용 Streamlit 웹 애플리케이션 코드.
- `data/`: 입력 데이터(CSV)를 저장하는 디렉토리.
- `output/`: 규칙 기반 필터링 결과 및 최종 검토 결과가 저장되는 디렉토리.
- `logs/`: 파이프라인 실행 로그가 저장되는 디렉토리.
- `templates/`: 키워드 템플릿 파일 (현재 코드에서는 직접 사용되지 않음).

## 5. 코딩 컨벤션

- **언어:** 코드 내 주석과 변수명은 주로 한국어와 영어를 혼용하고 있으나, 일관성을 위해 주요 기능은 영어로 작성하는 것을 권장합니다.
- **스타일:** PEP 8 스타일 가이드를 준수합니다.
- **타입 힌트:** 함수의 인자와 반환 값에 타입 힌트를 적극적으로 사용합니다. (`def my_function(param: str) -> bool:`)
- **로깅:** 중요한 프로세스(데이터 로딩, 결과 저장 등)에는 `logging` 모듈을 사용하여 정보를 기록합니다.
- **모듈화:** 기능별로 코드를 파일(모듈)로 분리하여 관리합니다. (예: `rule_based_filter.py`)

## 6. 주의사항

- 새로운 외부 라이브러리를 추가할 때는 팀의 동의를 얻어야 합니다.
- `output/` 디렉토리의 파일을 직접 수정하기보다는, Streamlit 앱을 통해 검토하고 저장하는 워크플로우를 따르는 것을 권장합니다.
